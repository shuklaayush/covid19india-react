{"version":3,"sources":["../../src/shared/uid.ts","../../src/web/Svg.tsx","../../src/web/ContentLoader.tsx","../../src/web/presets/FacebookStyle.tsx","../../src/types.ts","../../src/index.ts","components/loaders/MapVisualizer.js","components/MapExplorer.js","../node_modules/fast-deep-equal/index.js"],"names":["SVG","animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title","fixedId","Math","random","toString","substring","idClip","idGradient","idAria","rtlStyle","transform","keyTimes","dur","React.createElement","role","props","id","x","y","width","height","clipPath","fill","offset","stopColor","stopOpacity","attributeName","values","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","rx","cx","cy","r","LEFT","RIGHT","UP","DOWN","delta","preventDefaultTouchmoveEvent","rotationAngle","trackMouse","trackTouch","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","absX","deltaX","deltaY","angle","pos","angleInRadians","onStart","event","set","document","rotateXYByAngle","clientX","clientY","onMove","state","absY","time","velocity","vxvy","dir","getDirection","eventData","cancelablePageSwipe","onEnd","onSwipedDir","cleanUpMouse","onUp","e","attachTouch","el","passive","cleanup","tls","h","output","ref","addState","handlerProps","useSwipeable","options","transientState","React","transientProps","useMemo","getHandlers","stateSetter","handlers","updateTransientState","MapVisualizerLoader","statistic","windowWidth","window","innerWidth","mapHeight","MAP_LEGEND_HEIGHT","STATISTIC_CONFIGS","color","MapVisualizer","lazy","MapExplorer","stateCode","mapCode","data","mapStatistic","setMapStatistic","regionHighlighted","setRegionHighlighted","anchor","setAnchor","expandTable","hideDistrictData","t","useTranslation","mapExplorerRef","useRef","useWindowSize","useState","MAP_VIEWS","DISTRICTS","mapView","setMapView","MAP_META","mapType","MAP_TYPES","COUNTRY","MAP_VIZS","BUBBLES","CHOROPLETH","mapViz","setMapViz","mapMeta","mapData","hoveredRegion","hoveredData","districtName","districts","produce","draft","name","STATE_NAMES","handleTabClick","useCallback","option","handleDistrictClick","newMapView","STATES","ChoroplethIcon","xmlns","d","strokeWidth","strokeLinecap","strokeLinejoin","BubblesIcon","fillOpacity","strokeOpacity","history","useHistory","panelRef","useEffect","location","hash","current","scrollIntoView","trail","styles","map","element","index","push","animationDelay","perMillion","getMapStatistic","getStatistic","spring","useSpring","total","config","tension","SPRING_CONFIG_NUMBERS","handleStatisticChange","direction","currentIndex","PRIMARY_STATISTICS","indexOf","toIndex","length","swipeHandlers","onSwipedLeft","bind","this","onSwipedRight","statisticConfig","isDistrictView","stickied","className","classnames","hidden","display","onClick","UNKNOWN_DISTRICT_KEY","div","to","formatNumber","format","capitalize","displayName","STATE","fallback","clientWidth","isEqual","prevProps","currProps","equal","TT","meta","memo","module","exports","a","b","constructor","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","hasOwnProperty","call","key"],"mappings":"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","file":"static/js/4.e8a2d69a.chunk.js","sourcesContent":["export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs>\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import * as React from \"react\";\n\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport type HandledEvents = React.MouseEvent | TouchEvent | MouseEvent;\nexport type Vector2 = [number, number];\nexport type SwipeDirections =\n  | typeof LEFT\n  | typeof RIGHT\n  | typeof UP\n  | typeof DOWN;\nexport interface SwipeEventData {\n  absX: number;\n  absY: number;\n  deltaX: number;\n  deltaY: number;\n  dir: SwipeDirections;\n  event: HandledEvents;\n  first: boolean;\n  initial: Vector2;\n  velocity: number;\n  vxvy: Vector2;\n}\n\nexport type SwipeCallback = (eventData: SwipeEventData) => void;\nexport type TapCallback = ({ event }: { event: HandledEvents }) => void;\n\nexport type SwipeableCallbacks = {\n  // Event handler/callbacks\n  onSwipeStart: SwipeCallback;\n  onSwiped: SwipeCallback;\n  onSwipedDown: SwipeCallback;\n  onSwipedLeft: SwipeCallback;\n  onSwipedRight: SwipeCallback;\n  onSwipedUp: SwipeCallback;\n  onSwiping: SwipeCallback;\n  onTap: TapCallback;\n};\n\n// Configuration Options\nexport interface ConfigurationOptions {\n  delta: number;\n  preventDefaultTouchmoveEvent: boolean;\n  rotationAngle: number;\n  trackMouse: boolean;\n  trackTouch: boolean;\n}\n\nexport type SwipeableProps = Partial<SwipeableCallbacks & ConfigurationOptions>;\n\nexport type SwipeablePropsWithDefaultOptions = Partial<SwipeableCallbacks> &\n  ConfigurationOptions;\n\nexport interface SwipeableHandlers {\n  ref(element: HTMLElement | null): void;\n  onMouseDown?(event: React.MouseEvent): void;\n}\n\nexport type SwipeableState = {\n  cleanUpTouch?: () => void;\n  el?: HTMLElement;\n  eventData?: SwipeEventData;\n  first: boolean;\n  initial: Vector2;\n  start: number;\n  swiping: boolean;\n  xy: Vector2;\n};\n\nexport type StateSetter = (\n  state: SwipeableState,\n  props: SwipeablePropsWithDefaultOptions\n) => SwipeableState;\nexport type Setter = (stateSetter: StateSetter) => void;\nexport type AttachTouch = (el: HTMLElement, passive: boolean) => () => void;\n","/* global document */\nimport * as React from \"react\";\nimport {\n  AttachTouch,\n  SwipeDirections,\n  DOWN,\n  SwipeEventData,\n  HandledEvents,\n  LEFT,\n  RIGHT,\n  Setter,\n  SwipeableHandlers,\n  SwipeableProps,\n  SwipeablePropsWithDefaultOptions,\n  SwipeableState,\n  SwipeCallback,\n  TapCallback,\n  UP,\n  Vector2,\n} from \"./types\";\n\nexport {\n  LEFT,\n  RIGHT,\n  UP,\n  DOWN,\n  SwipeDirections,\n  SwipeEventData,\n  SwipeCallback,\n  TapCallback,\n  SwipeableHandlers,\n  SwipeableProps,\n  Vector2,\n};\n\nconst defaultProps = {\n  delta: 10,\n  preventDefaultTouchmoveEvent: false,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true,\n};\nconst initialState: SwipeableState = {\n  first: true,\n  initial: [0, 0],\n  start: 0,\n  swiping: false,\n  xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\n\nfunction getDirection(\n  absX: number,\n  absY: number,\n  deltaX: number,\n  deltaY: number\n): SwipeDirections {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return RIGHT;\n    }\n    return LEFT;\n  } else if (deltaY > 0) {\n    return DOWN;\n  }\n  return UP;\n}\n\nfunction rotateXYByAngle(pos: Vector2, angle: number): Vector2 {\n  if (angle === 0) return pos;\n  const angleInRadians = (Math.PI / 180) * angle;\n  const x =\n    pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  const y =\n    pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(\n  set: Setter,\n  handlerProps: { trackMouse: boolean | undefined }\n): [\n  {\n    ref: (element: HTMLElement | null) => void;\n    onMouseDown?: (event: React.MouseEvent) => void;\n  },\n  AttachTouch\n] {\n  const onStart = (event: HandledEvents) => {\n    // if more than a single touch don't track, for now...\n    if (event && \"touches\" in event && event.touches.length > 1) return;\n\n    set((state, props) => {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return {\n        ...state,\n        ...initialState,\n        initial: [...xy],\n        xy,\n        start: event.timeStamp || 0,\n      };\n    });\n  };\n\n  const onMove = (event: HandledEvents) => {\n    set((state, props) => {\n      // Discount a swipe if additional touches are present after\n      // a swipe has started.\n      if (\"touches\" in event && event.touches.length > 1) {\n        return state;\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      const deltaX = x - state.xy[0];\n      const deltaY = y - state.xy[1];\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n      const vxvy: Vector2 = [deltaX / (time || 1), deltaY / (time || 1)];\n\n      // if swipe is under delta and we have not started to track a swipe: skip update\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = {\n        absX,\n        absY,\n        deltaX,\n        deltaY,\n        dir,\n        event,\n        first: state.first,\n        initial: state.initial,\n        velocity,\n        vxvy,\n      };\n\n      // call onSwipeStart if present and is first swipe event\n      eventData.first && props.onSwipeStart && props.onSwipeStart(eventData);\n\n      // Call onSwiping if present\n      props.onSwiping && props.onSwiping(eventData);\n\n      // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n      let cancelablePageSwipe = false;\n      if (props.onSwiping || props.onSwiped || `onSwiped${dir}` in props) {\n        cancelablePageSwipe = true;\n      }\n\n      if (\n        cancelablePageSwipe &&\n        props.preventDefaultTouchmoveEvent &&\n        props.trackTouch &&\n        event.cancelable\n      )\n        event.preventDefault();\n\n      return {\n        ...state,\n        // first is now always false\n        first: false,\n        eventData,\n        swiping: true,\n      };\n    });\n  };\n\n  const onEnd = (event: HandledEvents) => {\n    set((state, props) => {\n      let eventData: SwipeEventData | undefined;\n      if (state.swiping && state.eventData) {\n        eventData = { ...state.eventData, event };\n        props.onSwiped && props.onSwiped(eventData);\n\n        const onSwipedDir = `onSwiped${eventData.dir}`;\n        if (onSwipedDir in props) {\n          ((props as any)[onSwipedDir] as SwipeCallback)(eventData);\n        }\n      } else {\n        props.onTap && props.onTap({ event });\n      }\n      return { ...state, ...initialState, eventData };\n    });\n  };\n\n  const cleanUpMouse = () => {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  const onUp = (e: HandledEvents) => {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  /**\n   * Switch of \"passive\" property for now.\n   * When `preventDefaultTouchmoveEvent` is:\n   * - true => { passive: false }\n   * - false => { passive: true }\n   *\n   * Could take entire `addEventListener` options object as a param later?\n   */\n  const attachTouch: AttachTouch = (el, passive) => {\n    let cleanup = () => {};\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      const tls: [\n        typeof touchStart | typeof touchMove | typeof touchEnd,\n        (e: HandledEvents) => void\n      ][] = [\n        [touchStart, onStart],\n        [touchMove, onMove],\n        [touchEnd, onEnd],\n      ];\n      tls.forEach(([e, h]) => el.addEventListener(e, h, { passive }));\n      // return properly scoped cleanup method for removing listeners, options not required\n      cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n    }\n    return cleanup;\n  };\n\n  const onRef = (el: HTMLElement | null) => {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set((state, props) => {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n\n      const addState: { cleanUpTouch?: () => void } = {};\n      // if new DOM el clean up old DOM and reset cleanUpTouch\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = undefined;\n      }\n      // only attach if we want to track touch\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(\n          el,\n          !props.preventDefaultTouchmoveEvent\n        );\n      }\n\n      // store event attached DOM el for comparison, clean up, and re-attachment\n      return { ...state, el, ...addState };\n    });\n  };\n\n  // set ref callback to attach touch event listeners\n  const output: { ref: typeof onRef; onMouseDown?: typeof onStart } = {\n    ref: onRef,\n  };\n\n  // if track mouse attach mouse down listener\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(\n  state: SwipeableState,\n  props: SwipeableProps,\n  attachTouch: AttachTouch\n) {\n  const addState: { cleanUpTouch?(): void } = {};\n  // clean up touch handlers if no longer tracking touches\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = undefined;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(\n        state.el,\n        !props.preventDefaultTouchmoveEvent\n      );\n    }\n  }\n  return { ...state, ...addState };\n}\n\nexport function useSwipeable(options: SwipeableProps): SwipeableHandlers {\n  const { trackMouse } = options;\n  const transientState = React.useRef({ ...initialState });\n  const transientProps = React.useRef<SwipeablePropsWithDefaultOptions>({\n    ...defaultProps,\n  });\n  transientProps.current = { ...defaultProps, ...options };\n\n  const [handlers, attachTouch] = React.useMemo(\n    () =>\n      getHandlers(\n        (stateSetter) =>\n          (transientState.current = stateSetter(\n            transientState.current,\n            transientProps.current\n          )),\n        { trackMouse }\n      ),\n    [trackMouse]\n  );\n\n  transientState.current = updateTransientState(\n    transientState.current,\n    transientProps.current,\n    attachTouch\n  );\n\n  return handlers;\n}\n","import {STATISTIC_CONFIGS, MAP_LEGEND_HEIGHT} from '../../constants';\n\nimport ContentLoader from 'react-content-loader';\n\n// Margins as declared in CSS\nexport const MAP_BUFFER_MARGINS = 42;\nexport const INDIA_ASPECT_RATIO = 0.885;\n\nconst MapVisualizerLoader = ({width, statistic}) => {\n  const windowWidth = window.innerWidth;\n  // Default width for loader\n  if (!width) width = windowWidth > 769 ? 480 : windowWidth;\n  // From CSS\n  const scalingFactor = windowWidth > 769 ? 0.9 : 1;\n  const mapHeight = (scalingFactor * width) / INDIA_ASPECT_RATIO;\n  const height = MAP_BUFFER_MARGINS + MAP_LEGEND_HEIGHT + mapHeight;\n  return (\n    <ContentLoader\n      viewBox={`0 0 ${width} ${height}`}\n      height={height}\n      width={width}\n      speed={2}\n      backgroundColor={STATISTIC_CONFIGS[statistic].color}\n    >\n      <circle cx={0.4 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.5 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.6 * width} cy={height / 2} r=\"5\" />\n    </ContentLoader>\n  );\n};\n\nexport default MapVisualizerLoader;\n","import MapVisualizerLoader from './loaders/MapVisualizer';\n\nimport {\n  MAP_META,\n  MAP_TYPES,\n  MAP_VIEWS,\n  MAP_VIZS,\n  PRIMARY_STATISTICS,\n  SPRING_CONFIG_NUMBERS,\n  STATE_NAMES,\n  STATISTIC_CONFIGS,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport {formatNumber, getStatistic, capitalize} from '../utils/commonFunctions';\n\nimport {\n  ArrowLeftIcon,\n  DotFillIcon,\n  PinIcon,\n  OrganizationIcon,\n} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport {\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  Suspense,\n  lazy,\n} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport {animated, useSpring} from 'react-spring';\nimport {useSwipeable} from 'react-swipeable';\nimport {useWindowSize} from 'react-use';\n\nconst MapVisualizer = lazy(() => import('./MapVisualizer'));\n\nfunction MapExplorer({\n  stateCode: mapCode = 'TT',\n  data,\n  mapStatistic,\n  setMapStatistic,\n  regionHighlighted,\n  setRegionHighlighted,\n  anchor,\n  setAnchor,\n  expandTable = false,\n  hideDistrictData = false,\n}) {\n  const {t} = useTranslation();\n  const mapExplorerRef = useRef();\n  const {width} = useWindowSize();\n\n  const [mapView, setMapView] = useState(MAP_VIEWS.DISTRICTS);\n  const [mapViz, setMapViz] = useState(\n    MAP_META[mapCode].mapType === MAP_TYPES.COUNTRY\n      ? MAP_VIZS.BUBBLES\n      : MAP_VIZS.CHOROPLETH\n  );\n\n  const mapMeta = MAP_META[mapCode];\n  const mapData =\n    mapMeta.mapType === MAP_TYPES.COUNTRY ? data : {[mapCode]: data[mapCode]};\n\n  const hoveredRegion = useMemo(() => {\n    const hoveredData =\n      (regionHighlighted.districtName\n        ? data[regionHighlighted.stateCode]?.districts?.[\n            regionHighlighted.districtName\n          ]\n        : data[regionHighlighted.stateCode]) || {};\n\n    return produce(hoveredData, (draft) => {\n      draft.name =\n        regionHighlighted.districtName ||\n        STATE_NAMES[regionHighlighted.stateCode];\n    });\n  }, [data, regionHighlighted.stateCode, regionHighlighted.districtName]);\n\n  const handleTabClick = useCallback(\n    (option) => {\n      switch (option) {\n        case MAP_VIZS.CHOROPLETH:\n          setMapViz(MAP_VIZS.CHOROPLETH);\n          break;\n        case MAP_VIZS.BUBBLES:\n          setMapViz(MAP_VIZS.BUBBLES);\n          break;\n      }\n    },\n    [setMapViz]\n  );\n\n  const handleDistrictClick = useCallback(() => {\n    const newMapView =\n      mapView === MAP_VIEWS.DISTRICTS ? MAP_VIEWS.STATES : MAP_VIEWS.DISTRICTS;\n    if (newMapView === MAP_VIEWS.STATES) {\n      setRegionHighlighted({\n        stateCode: regionHighlighted.stateCode,\n        districtName: null,\n      });\n    }\n    setMapView(newMapView);\n  }, [mapView, setRegionHighlighted, regionHighlighted.stateCode]);\n\n  const ChoroplethIcon = useMemo(\n    () => (\n      <svg\n        width=\"314\"\n        height=\"314\"\n        viewBox=\"0 0 314 314\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M78.2861 145.778C80.6671 155.387 84.6108 164.28 92.421 170.488C94.5409 174.766 93.7381 180.115 96.2412 184.535C99.7619 190.751 102.898 195.156 110.758 195.156C119.259 195.156 127.582 192.241 132.576 184.963C136.539 179.187 143.562 174.194 150.658 178.968C156.039 182.587 157.864 191.253 161.949 196.312C168.044 203.859 175.962 212.131 184.107 217.339C190.795 221.615 199.602 221.297 207.368 220.551C214.111 219.903 220.088 212.137 223.71 207.189C227.102 202.555 230.602 198.075 233.006 192.843C238.463 180.961 236.721 162.008 225.62 153.958C213.23 144.974 196.881 145.725 183.343 139.654C175.796 136.27 175.843 122.587 174.174 115.758C172.492 108.876 170.655 99.867 164.581 95.3733C155.36 88.5509 146.436 93.7458 137.075 96.444C133.325 97.525 131.816 100.817 129.095 103.424L129.093 103.426C126.105 106.29 121.531 110.674 117.974 112.632C113.709 114.979 111.262 119.456 105.834 119.612C104.487 119.651 98.6801 120.375 97.7693 119.227C94.2704 114.814 92.1979 113.445 86.6906 113.445C83.0636 113.445 77.14 118.241 77.14 122.31C77.14 130.086 76.4094 138.205 78.2861 145.778Z\"\n          strokeWidth=\"10\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n      </svg>\n    ),\n    []\n  );\n\n  const BubblesIcon = useMemo(\n    () => (\n      <svg\n        width=\"22\"\n        height=\"27\"\n        viewBox=\"-1 -5 22 27\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"5.5\" cy=\"5.5\" r=\"5.5\" fillOpacity=\"0.4\" />\n        <circle cx=\"5.5\" cy=\"5.5\" r=\"5\" strokeOpacity=\"0.5\" />\n        <circle cx=\"6.5\" cy=\"11.5\" r=\"3.5\" fillOpacity=\"0.4\" />\n        <circle cx=\"6.5\" cy=\"11.5\" r=\"3\" strokeOpacity=\"0.5\" />\n        <circle cx=\"13.5\" cy=\"9.5\" r=\"6.5\" fillOpacity=\"0.4\" />\n        <circle cx=\"13.5\" cy=\"9.5\" r=\"6\" strokeOpacity=\"0.5\" />\n      </svg>\n    ),\n    []\n  );\n\n  const history = useHistory();\n  const panelRef = useRef();\n\n  useEffect(() => {\n    if (history.location.hash === '#MapExplorer') {\n      panelRef.current.scrollIntoView();\n    }\n  }, [history]);\n\n  const trail = useMemo(() => {\n    const styles = [];\n\n    [0, 0, 0, 0, 0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${index * 250}ms`,\n      });\n      return null;\n    });\n\n    return styles;\n  }, []);\n\n  const perMillion = mapViz === MAP_VIZS.CHOROPLETH;\n\n  const getMapStatistic = useCallback(\n    (data) =>\n      getStatistic(data, 'total', mapStatistic, {perMillion: perMillion}),\n    [mapStatistic, perMillion]\n  );\n\n  const spring = useSpring({\n    total: getMapStatistic(hoveredRegion),\n    config: {tension: 250, ...SPRING_CONFIG_NUMBERS},\n  });\n\n  const handleStatisticChange = (direction) => {\n    const currentIndex = PRIMARY_STATISTICS.indexOf(mapStatistic);\n    const toIndex =\n      (PRIMARY_STATISTICS.length + currentIndex + direction) %\n      PRIMARY_STATISTICS.length;\n    setMapStatistic(PRIMARY_STATISTICS[toIndex]);\n  };\n\n  const swipeHandlers = useSwipeable({\n    onSwipedLeft: handleStatisticChange.bind(this, 1),\n    onSwipedRight: handleStatisticChange.bind(this, -1),\n  });\n\n  const statisticConfig = STATISTIC_CONFIGS[mapStatistic];\n\n  const isDistrictView = mapView === MAP_VIEWS.DISTRICTS && !hideDistrictData;\n\n  const stickied = anchor === 'mapexplorer' || (expandTable && width > 769);\n\n  return (\n    <div\n      className={classnames(\n        'MapExplorer',\n        {stickied},\n        {\n          hidden:\n            anchor && anchor !== 'mapexplorer' && (!expandTable || width < 769),\n        }\n      )}\n    >\n      <div\n        className={classnames('anchor', 'fadeInUp', {\n          stickied,\n        })}\n        style={{\n          display: width < 769 || (width > 769 && expandTable) ? 'none' : '',\n        }}\n        onClick={\n          setAnchor &&\n          setAnchor.bind(this, anchor === 'mapexplorer' ? null : 'mapexplorer')\n        }\n      >\n        <PinIcon />\n      </div>\n      <div className=\"panel\" ref={panelRef}>\n        <div className=\"panel-left fadeInUp\" style={trail[0]}>\n          <h2 className={classnames(mapStatistic)}>\n            {t(hoveredRegion.name)}\n            {hoveredRegion.name === UNKNOWN_DISTRICT_KEY &&\n              ` [${t(STATE_NAMES[regionHighlighted.stateCode])}]`}\n          </h2>\n\n          {regionHighlighted.stateCode && (\n            <h1 className={classnames('district', mapStatistic)}>\n              <animated.div>\n                {spring.total.to((total) =>\n                  formatNumber(\n                    total,\n                    statisticConfig.format !== 'short'\n                      ? statisticConfig.format\n                      : 'int',\n                    mapStatistic\n                  )\n                )}\n              </animated.div>\n              <span>{`${t(capitalize(statisticConfig.displayName))}${\n                perMillion ? ` ${t('per 10 lakh people')}` : ''\n              }`}</span>\n            </h1>\n          )}\n        </div>\n\n        <div className={classnames('panel-right', `is-${mapStatistic}`)}>\n          <div className=\"switch-type\">\n            <div\n              className={classnames('choropleth fadeInUp', {\n                'is-highlighted': mapViz === MAP_VIZS.CHOROPLETH,\n              })}\n              onClick={handleTabClick.bind(this, MAP_VIZS.CHOROPLETH)}\n              style={trail[1]}\n            >\n              {ChoroplethIcon}\n            </div>\n            <div\n              className={classnames('bubble fadeInUp', {\n                'is-highlighted': mapViz === MAP_VIZS.BUBBLES,\n              })}\n              onClick={handleTabClick.bind(this, MAP_VIZS.BUBBLES)}\n              style={trail[2]}\n            >\n              {BubblesIcon}\n            </div>\n\n            {mapMeta.mapType === MAP_TYPES.COUNTRY && (\n              <>\n                <div className=\"divider\" />\n                <div\n                  className={classnames('boundary fadeInUp', {\n                    'is-highlighted': isDistrictView,\n                  })}\n                  onClick={handleDistrictClick.bind(this)}\n                  style={trail[3]}\n                >\n                  <OrganizationIcon />\n                </div>\n              </>\n            )}\n\n            {mapMeta.mapType === MAP_TYPES.STATE && (\n              <div\n                className=\"back fadeInUp\"\n                onClick={() => {\n                  history.push('/#MapExplorer');\n                }}\n                style={trail[4]}\n              >\n                <ArrowLeftIcon />\n              </div>\n            )}\n          </div>\n\n          {(expandTable || width < 769) && (\n            <div className=\"switch-statistic fadeInUp\" style={trail[5]}>\n              {PRIMARY_STATISTICS.map((statistic) => (\n                <div\n                  key={statistic}\n                  className={classnames('statistic-option', `is-${statistic}`, {\n                    'is-highlighted': mapStatistic === statistic,\n                  })}\n                  onClick={setMapStatistic.bind(this, statistic)}\n                >\n                  <DotFillIcon />\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div\n        ref={mapExplorerRef}\n        className=\"fadeInUp\"\n        style={trail[3]}\n        {...swipeHandlers}\n      >\n        {mapStatistic && (\n          <Suspense\n            fallback={\n              <MapVisualizerLoader\n                className=\"map-loader\"\n                {...{\n                  width: mapExplorerRef.current?.clientWidth,\n                  statistic: mapStatistic,\n                }}\n              />\n            }\n          >\n            <MapVisualizer\n              {...{mapCode, isDistrictView, mapViz}}\n              data={mapData}\n              {...{regionHighlighted, setRegionHighlighted}}\n              statistic={mapStatistic}\n              getStatistic={getMapStatistic}\n            ></MapVisualizer>\n          </Suspense>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.stateCode, currProps.stateCode)) {\n    return false;\n  } else if (!equal(prevProps.regionHighlighted, currProps.regionHighlighted)) {\n    return false;\n  } else if (!equal(prevProps.mapStatistic, currProps.mapStatistic)) {\n    return false;\n  } else if (!equal(prevProps.anchor, currProps.anchor)) {\n    return false;\n  } else if (!equal(prevProps.hideDistrictData, currProps.hideDistrictData)) {\n    return false;\n  } else if (!equal(prevProps.expandTable, currProps.expandTable)) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.data?.TT?.meta?.['last_updated'],\n      currProps.data?.TT?.meta?.['last_updated']\n    )\n  ) {\n    return false;\n  } else if (!equal(prevProps.data?.TT?.total, currProps.data?.TT?.total)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(MapExplorer, isEqual);\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n"],"sourceRoot":""}