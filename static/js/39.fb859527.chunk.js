(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[39],{717:function(t,e,i){"use strict";i.r(e);var a=i(37),s=i(6),d=i(29),l=i(85),c=i.n(l),n=i(83),o=i.n(n),r=i(2),j=i(91),b=i(18),u=function(t){var e=t.statistic,i=t.data,a=t.isPerMillion,l=t.lastUpdatedTT,n=Object(d.i)(i,e,{perMillion:a},l),o=n.total,r=n.delta,u=Object(j.useSpring)({total:o,delta:r,config:s.r}),m=s.v[e];return Object(b.jsxs)("div",{className:"cell statistic",children:[!m.hideDelta&&Object(b.jsx)(j.animated.div,{className:c()("delta","is-".concat(e)),title:r,children:u.delta.to((function(t){return t>0?"\u2191"+Object(d.e)(t,m.format):t<0?"\u2193"+Object(d.e)(Math.abs(t),m.format):""}))}),Object(b.jsx)(j.animated.div,{className:"total",title:o,children:u.total.to((function(t){return Object(d.e)(t,m.format,e)}))})]})},m=function(t,e){var i,a,s,d;return!!o()(null===(i=t.data)||void 0===i?void 0:i.total,null===(a=e.data)||void 0===a?void 0:a.total)&&(!!o()(null===(s=t.data)||void 0===s?void 0:s.delta,null===(d=e.data)||void 0===d?void 0:d.delta)&&!!o()(t.isPerMillion,e.isPerMillion))},h=Object(r.memo)(u,m),v=i(114),g=i(90),O=i(95),x=i(722);function N(t){var e,i=t.stateCode,a=t.districtName,d=t.data,l=t.isPerMillion,n=t.regionHighlighted,o=t.setRegionHighlighted,j=t.expandTable,u=t.lastUpdatedTT,m=Object(x.a)().t,N=Object(r.useCallback)((function(){n.districtName!==a&&o(Object(O.a)(n,(function(t){t.stateCode=i,t.districtName=a})))}),[n,a,o,i]),p=j?s.y:s.x;return Object(b.jsxs)("div",{className:c()("row","district",{"is-highlighted":(null===n||void 0===n?void 0:n.districtName)===a}),onMouseEnter:N,children:[Object(b.jsxs)("div",{className:"cell",children:[Object(b.jsx)("div",{className:"state-name",children:m(a)}),(null===d||void 0===d||null===(e=d.meta)||void 0===e?void 0:e.notes)&&Object(b.jsx)(v.a,{data:d.meta.notes,children:Object(b.jsx)(g.m,{size:16})})]}),p.map((function(t){return Object(b.jsx)(h,{statistic:t,data:d,isPerMillion:l,lastUpdatedTT:u},t)}))]})}var p=function(t,e){var i,a,s,d,l,c;return!!o()(null===(i=t.data)||void 0===i?void 0:i.total,null===(a=e.data)||void 0===a?void 0:a.total)&&(!!o()(null===(s=t.data)||void 0===s?void 0:s.delta,null===(d=e.data)||void 0===d?void 0:d.delta)&&(!!o()(null===(l=t.data)||void 0===l?void 0:l.last_updated,null===(c=e.data)||void 0===c?void 0:c.last_updated)&&(!!o()(t.isPerMillion,e.isPerMillion)&&(!(!o()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&(o()(t.regionHighlighted.districtName,t.districtName)||o()(e.regionHighlighted.districtName,e.districtName)))&&!!o()(t.expandTable,e.expandTable)))))},C=Object(r.memo)(N,p),f=i(178),T=i(5),H=i(675);function M(t){var e,i,l=this,n=t.data,o=t.stateCode,j=t.districtName,u=t.isPerMillion,m=t.regionHighlighted,N=t.setRegionHighlighted,p=t.expandTable,M=t.lastUpdatedTT,k=t.tableStatistics,P=Object(r.useState)(!1),S=Object(a.a)(P,2),w=S[0],D=S[1],U=Object(H.a)("districtSortData",{sortColumn:"confirmed",isAscending:!1,delta:!1}),A=Object(a.a)(U,2),E=A[0],R=A[1],_=Object(T.g)(),z=Object(x.a)().t,y=Object(r.useRef)(),F=Object(r.useCallback)((function(t){R(Object(O.a)(E,(function(e){e.isAscending=!E.isAscending,e.sortColumn=t})))}),[E,R]),I=Object(r.useCallback)((function(t,e){if("districtName"!==E.sortColumn){var i=s.v[E.sortColumn],a=E.delta&&!i.hideDelta?"delta":"total",l=Object(d.i)(n.districts[t],E.sortColumn,{perMillion:u},M)[a],c=Object(d.i)(n.districts[e],E.sortColumn,{perMillion:u},M)[a];return E.isAscending?l-c:c-l}return E.isAscending?t.localeCompare(e):e.localeCompare(t)}),[E,n,u,M]),J=Object(r.useCallback)((function(){o?m.stateCode!==o&&N(Object(O.a)(m,(function(t){t.stateCode=o,t.districtName=null}))):j&&(m.districtName===j&&m.stateCode===n.stateCode||N(Object(O.a)(m,(function(t){t.stateCode=n.stateCode,t.districtName=j}))))}),[n.stateCode,j,m,N,o]),V=Object(r.useCallback)((function(){n.districts&&D(!w)}),[w,n]),q=z(j);j===s.E&&(q="".concat(z(s.E)," [").concat(z(s.u[n.stateCode]),"]"));var B=Object(r.useCallback)((function(t){_.push("state/".concat(t))}),[_]),G=Object(r.useCallback)((function(){D(!1),y.current.scrollIntoView({block:"start"})}),[]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:c()("row",{"is-total":"TT"===o},{"is-highlighted":o&&(null===m||void 0===m?void 0:m.stateCode)===o||j&&(null===m||void 0===m?void 0:m.districtName)===j&&(null===m||void 0===m?void 0:m.stateCode)===n.stateCode}),onMouseEnter:J,onClick:V,ref:y,children:[Object(b.jsxs)("div",{className:"cell",children:[Object(b.jsx)("div",{className:"state-name fadeInUp",children:z(s.u[o])||q}),(null===n||void 0===n||null===(e=n.meta)||void 0===e?void 0:e.notes)&&Object(b.jsx)(v.a,{data:n.meta.notes,children:Object(b.jsx)(g.m,{size:16})})]}),k.map((function(t){return Object(b.jsx)(h,{data:n,statistic:t,isPerMillion:u,lastUpdatedTT:M},t)}))]}),w&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"state-meta",children:[Object(b.jsxs)("div",{className:"state-meta-top",children:[(null===n||void 0===n||null===(i=n.meta)||void 0===i?void 0:i.last_updated)&&Object(b.jsxs)("p",{className:"last-updated",children:[Object(b.jsx)(g.e,{}),Object(d.a)("".concat(Object(d.d)(n.meta.last_updated)," ").concat(z("ago")))]}),Object(b.jsxs)("div",{className:"state-page",onClick:B.bind(this,o),children:[Object(b.jsx)(g.j,{}),Object(b.jsx)("span",{children:z("See more details on {{state}}",{state:o})})]})]}),n.districts&&s.E in n.districts&&Object(b.jsx)("div",{className:"state-meta-bottom",children:Object(b.jsxs)("div",{className:c()("disclaimer"),children:[Object(b.jsx)(g.a,{}),Object(b.jsx)("span",{children:z("District-wise data not available in state bulletin")})]})})]}),Object(b.jsxs)("div",{className:c()("row","heading"),children:[Object(b.jsxs)("div",{className:"cell heading",onClick:F.bind(this,"districtName"),children:[Object(b.jsx)("div",{className:"district-name",children:z("District")}),"districtName"===E.sortColumn&&Object(b.jsx)("div",{className:c()("sort-icon",{invert:!E.isAscending}),children:Object(b.jsx)(g.g,{size:10})})]}),k.map((function(t){return Object(b.jsx)(f.a,{statistic:t,sortData:E,setSortData:R,handleSort:F.bind(l,t)},t)}))]})]}),w&&Object.keys(n.districts||{}).sort((function(t,e){return I(t,e)})).map((function(t){return Object(b.jsx)(C,{data:n.districts[t],districtName:t,regionHighlighted:m,setRegionHighlighted:N,stateCode:o,isPerMillion:u,expandTable:p,lastUpdatedTT:M},t)})),w&&Object(b.jsx)("div",{className:"spacer-row",children:Object(b.jsxs)("div",{className:"spacer",children:[Object(b.jsx)("p",{children:"End of ".concat(z(s.u[o]),"'s districts")}),Object(b.jsx)("div",{className:"fold",onClick:G,children:Object(b.jsx)(g.i,{})})]})})]})}var k=function(t,e){var i,a,s,d;return!!o()(null===(i=t.data)||void 0===i?void 0:i.total,null===(a=e.data)||void 0===a?void 0:a.total)&&(!!o()(null===(s=t.data)||void 0===s?void 0:s.delta,null===(d=e.data)||void 0===d?void 0:d.delta)&&(!!o()(t.isPerMillion,e.isPerMillion)&&(!(!o()(t.regionHighlighted.stateCode,e.regionHighlighted.stateCode)&&o()(t.regionHighlighted.stateCode,t.stateCode)||o()(e.regionHighlighted.stateCode,e.stateCode))&&(!(!o()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&o()(t.regionHighlighted.districtName,t.districtName)||o()(e.regionHighlighted.districtName,e.districtName))&&(!!o()(t.expandTable,e.expandTable)&&!!o()(t.tableStatistics,e.tableStatistics))))))};e.default=Object(r.memo)(M,k)}}]);
//# sourceMappingURL=39.fb859527.chunk.js.map