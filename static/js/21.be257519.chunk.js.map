{"version":3,"sources":["../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-shape/src/area.js","components/Timeseries.js"],"names":["event","sourceEvent","slice","Array","prototype","x","epsilon","translateX","translateY","y","number","scale","d","center","offset","Math","max","bandwidth","round","entering","this","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","context","values","ticks","apply","domain","format","identity","spacing","range","range0","range1","length","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","call","tickSize","axisRight","axisBottom","transformLog","log","transformExp","exp","transformLogn","transformExpn","pow10","reflect","f","loggish","logs","pows","base","rescale","E","log10","log2","logp","pow","powp","count","r","u","v","i","t","j","n","z","floor","ceil","push","min","map","reverse","specifier","Infinity","nice","transformer","initRange","node","undefined","currentTarget","svg","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","x0","y0","y1","x1","defined","constant","curve","curveLinear","output","area","buffer","array","defined0","x0z","y0z","areaStart","lineStart","lineEnd","areaEnd","arealine","pointX","pointY","lineX0","lineY0","lineY1","lineX1","margin","yScaleShrinkFactor","Timeseries","timeseries","dates","endDate","chartType","isUniform","isLog","isMovingAverage","useTranslation","refs","useRef","useMeasure","wrapperRef","width","height","statistics","useMemo","TIMESERIES_STATISTICS","statistic","useState","highlightedDate","setHighlightedDate","useEffect","condenseChart","T","days","differenceInDays","parseIndiaDate","chartRight","xScale","scaleTime","clamp","yScales","chartBottom","addScaleBuffer","uniformScaleMin","date","getStatistic","movingAverage","uniformScaleMax","yScaleUniformLinear","scaleLinear","yScaleUniformLog","scaleLog","PRIMARY_STATISTICS","includes","scaleMin","scaleMax","STATISTIC_CONFIGS","isDiscrete","xAxis","g","numTicksX","xAxis2","yScale","style","yAxis","num","formatNumber","forEach","ref","current","duration","D3_TRANSITION_DURATION","color","join","areaPath","allZero","curveMonotoneX","update","attrTween","previous","interpolatePath","linePath","on","mousemove","touches","mouseout","xm","pointer","invert","isNaN","index","bisectDate","bisector","dateLeft","dateRight","getStatisticDelta","useCallback","currCount","NAN_STATISTICS","prevDate","findIndex","trail","animationDelay","className","delta","statisticConfig","classnames","capitalize","displayName","formatDate","element","preserveAspectRatio","isEqual","prevProps","currProps","equal","regionHighlighted","stateCode","districtName","memo"],"mappings":"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","file":"static/js/21.be257519.chunk.js","sourcesContent":["export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array.js\";\nimport identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import {\n  D3_TRANSITION_DURATION,\n  NAN_STATISTICS,\n  PRIMARY_STATISTICS,\n  STATISTIC_CONFIGS,\n  TIMESERIES_STATISTICS,\n} from '../constants';\nimport {\n  capitalize,\n  formatNumber,\n  formatDate,\n  getStatistic,\n  parseIndiaDate,\n} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport {min, max, bisector} from 'd3-array';\nimport {axisBottom, axisRight} from 'd3-axis';\nimport {interpolatePath} from 'd3-interpolate-path';\nimport {scaleTime, scaleLinear, scaleLog} from 'd3-scale';\nimport {select, pointer} from 'd3-selection';\nimport {area, line, curveMonotoneX} from 'd3-shape';\nimport 'd3-transition';\nimport {differenceInDays} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport {memo, useCallback, useEffect, useRef, useMemo, useState} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useMeasure} from 'react-use';\n\n// Chart margins\nconst margin = {top: 15, right: 35, bottom: 25, left: 25};\n// Buffer space along y-axis\nconst yScaleShrinkFactor = 0.7;\nconst numTicksX = (width) => (width < 480 ? 4 : 6);\n\nfunction Timeseries({\n  timeseries,\n  dates,\n  endDate,\n  chartType,\n  isUniform,\n  isLog,\n  isMovingAverage,\n}) {\n  const {t} = useTranslation();\n  const refs = useRef([]);\n  const [wrapperRef, {width, height}] = useMeasure();\n\n  const statistics = useMemo(\n    () =>\n      TIMESERIES_STATISTICS.filter(\n        (statistic) => chartType === 'delta' || statistic !== 'tpr'\n      ),\n    [chartType]\n  );\n\n  const [highlightedDate, setHighlightedDate] = useState(\n    dates[dates.length - 1]\n  );\n  useEffect(() => {\n    setHighlightedDate(dates[dates.length - 1]);\n  }, [dates]);\n\n  const condenseChart = useMemo(() => {\n    const T = dates.length;\n    const days = differenceInDays(\n      parseIndiaDate(dates[T - 1]),\n      parseIndiaDate(dates[0])\n    );\n    // Chart extremes\n    const chartRight = width - margin.right;\n    // Bar widths\n    const axisWidth = Math.max(0, chartRight - margin.left) / (1.25 * days);\n    return axisWidth < 4;\n  }, [width, dates]);\n\n  const xScale = useMemo(() => {\n    const T = dates.length;\n    const chartRight = width - margin.right;\n\n    return scaleTime()\n      .clamp(true)\n      .domain([\n        parseIndiaDate(dates[0] || endDate),\n        parseIndiaDate(dates[T - 1] || endDate),\n      ])\n      .range([margin.left, chartRight]);\n  }, [width, endDate, dates]);\n\n  const yScales = useMemo(() => {\n    const chartBottom = height - margin.bottom;\n\n    const addScaleBuffer = (scale, log = false) => {\n      const domain = scale.domain();\n      if (log) {\n        scale.domain([\n          domain[0],\n          domain[0] * Math.pow(domain[1] / domain[0], 1 / yScaleShrinkFactor),\n        ]);\n      } else {\n        scale.domain([\n          domain[0],\n          domain[0] + (domain[1] - domain[0]) / yScaleShrinkFactor,\n        ]);\n      }\n      return scale;\n    };\n\n    const uniformScaleMin = Math.min(\n      0,\n      min(dates, (date) =>\n        getStatistic(timeseries[date], chartType, 'active', {\n          movingAverage: isMovingAverage,\n        })\n      ) || 0\n    );\n\n    const uniformScaleMax = Math.max(\n      1,\n      max(dates, (date) =>\n        Math.max(\n          getStatistic(timeseries[date], chartType, 'confirmed', {\n            movingAverage: isMovingAverage,\n          }),\n          getStatistic(timeseries[date], chartType, 'recovered', {\n            movingAverage: isMovingAverage,\n          }),\n          getStatistic(timeseries[date], chartType, 'deceased', {\n            movingAverage: isMovingAverage,\n          })\n        )\n      ) || 0\n    );\n\n    const yScaleUniformLinear = addScaleBuffer(\n      scaleLinear()\n        .clamp(true)\n        .domain([uniformScaleMin, uniformScaleMax])\n        .range([chartBottom, margin.top])\n        .nice(4)\n    );\n\n    const yScaleUniformLog = addScaleBuffer(\n      scaleLog()\n        .clamp(true)\n        .domain([Math.max(1, uniformScaleMin), Math.max(10, uniformScaleMax)])\n        .range([chartBottom, margin.top])\n        .nice(4),\n      true\n    );\n\n    return statistics.map((statistic) => {\n      if (\n        isUniform &&\n        chartType === 'total' &&\n        isLog &&\n        PRIMARY_STATISTICS.includes(statistic)\n      )\n        return yScaleUniformLog;\n\n      if (isUniform && PRIMARY_STATISTICS.includes(statistic))\n        return yScaleUniformLinear;\n\n      const scaleMin = Math.min(\n        0,\n        min(dates, (date) =>\n          getStatistic(timeseries[date], chartType, statistic, {\n            movingAverage: isMovingAverage,\n          })\n        ) || 0\n      );\n\n      const scaleMax = Math.max(\n        1,\n        max(dates, (date) =>\n          getStatistic(timeseries[date], chartType, statistic, {\n            movingAverage: isMovingAverage,\n          })\n        ) || 0\n      );\n\n      if (chartType === 'total' && isLog) {\n        return addScaleBuffer(\n          scaleLog()\n            .clamp(true)\n            .domain([Math.max(1, scaleMin), Math.max(10, scaleMax)])\n            .range([chartBottom, margin.top])\n            .nice(4),\n          true\n        );\n      }\n\n      return addScaleBuffer(\n        scaleLinear()\n          .clamp(true)\n          .domain([\n            chartType === 'total' || statistic !== 'active' ? 0 : scaleMin,\n            STATISTIC_CONFIGS[statistic].format === '%'\n              ? Math.min(100, scaleMax)\n              : scaleMax,\n          ])\n          .range([chartBottom, margin.top])\n          .nice(4)\n      );\n    });\n  }, [\n    height,\n    chartType,\n    isUniform,\n    isLog,\n    isMovingAverage,\n    statistics,\n    dates,\n    timeseries,\n  ]);\n\n  useEffect(() => {\n    if (!width || !height) return;\n\n    const T = dates.length;\n    // Chart extremes\n    const chartRight = width - margin.right;\n    const chartBottom = height - margin.bottom;\n\n    const isDiscrete = chartType === 'delta' && !isMovingAverage;\n\n    const xAxis = (g) =>\n      g\n        .attr('class', 'x-axis')\n        .call(axisBottom(xScale).ticks(numTicksX(width)));\n\n    const xAxis2 = (g, yScale) => {\n      g.attr('class', 'x-axis2')\n        .call(axisBottom(xScale).tickValues([]).tickSize(0))\n        .select('.domain')\n        .style('transform', `translateY(${yScale(0)}px)`);\n\n      if (yScale(0) !== chartBottom) g.select('.domain').attr('opacity', 0.4);\n      else g.select('.domain').attr('opacity', 0);\n    };\n\n    const yAxis = (g, yScale, format) =>\n      g.attr('class', 'y-axis').call(\n        axisRight(yScale)\n          .ticks(4)\n          .tickFormat((num) => formatNumber(num, format))\n          .tickPadding(4)\n      );\n\n    function mousemove(event) {\n      const xm = pointer(event)[0];\n      const date = xScale.invert(xm);\n      if (!isNaN(date)) {\n        const bisectDate = bisector((date) => parseIndiaDate(date)).left;\n        const index = bisectDate(dates, date, 1);\n        const dateLeft = dates[index - 1];\n        const dateRight = dates[index];\n        setHighlightedDate(\n          date - parseIndiaDate(dateLeft) < parseIndiaDate(dateRight) - date\n            ? dateLeft\n            : dateRight\n        );\n      }\n    }\n\n    function mouseout(event) {\n      setHighlightedDate(dates[T - 1]);\n    }\n\n    /* Begin drawing charts */\n    statistics.forEach((statistic, i) => {\n      const ref = refs.current[i];\n      const svg = select(ref);\n      const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n      const yScale = yScales[i];\n      const color = STATISTIC_CONFIGS[statistic].color;\n      const format =\n        STATISTIC_CONFIGS[statistic].format === '%' ? '%' : 'short';\n\n      /* X axis */\n      svg\n        .select('.x-axis')\n        .style('transform', `translateY(${chartBottom}px)`)\n        .transition(t)\n        .call(xAxis);\n\n      svg.select('.x-axis2').transition(t).call(xAxis2, yScale);\n\n      /* Y axis */\n      svg\n        .select('.y-axis')\n        .style('transform', `translateX(${chartRight}px)`)\n        .transition(t)\n        .call(yAxis, yScale, format);\n\n      /* Path dots */\n      svg\n        .selectAll('circle.normal')\n        .data(condenseChart ? [] : dates, (date) => date)\n        .join((enter) =>\n          enter\n            .append('circle')\n            .attr('class', 'normal')\n            .attr('fill', color)\n            .attr('stroke', color)\n            .attr('cx', (date) => xScale(parseIndiaDate(date)))\n            .attr('cy', (date) =>\n              yScale(\n                isDiscrete\n                  ? 0\n                  : getStatistic(timeseries[date], chartType, statistic, {\n                      movingAverage: isMovingAverage,\n                    })\n              )\n            )\n            .attr('r', 2)\n        )\n        .transition(t)\n        .attr('cx', (date) => xScale(parseIndiaDate(date)))\n        .attr('cy', (date) =>\n          yScale(\n            getStatistic(timeseries[date], chartType, statistic, {\n              movingAverage: isMovingAverage,\n            })\n          )\n        );\n\n      const areaPath = (dates, allZero = false) =>\n        area()\n          .curve(curveMonotoneX)\n          .x((date) => xScale(parseIndiaDate(date)))\n          .y0(yScale(0))\n          .y1(\n            allZero\n              ? yScale(0)\n              : (date) =>\n                  yScale(\n                    getStatistic(timeseries[date], chartType, statistic, {\n                      movingAverage: isMovingAverage,\n                    })\n                  )\n          )(dates);\n\n      if (isDiscrete) {\n        /* DAILY TRENDS */\n        svg.selectAll('.trend').remove();\n\n        if (condenseChart) {\n          svg\n            .selectAll('.stem')\n            .transition(t)\n            .attr('y1', yScale(0))\n            .attr('y2', yScale(0))\n            .remove();\n\n          svg\n            .selectAll('.trend-area')\n            .data(T ? [dates] : [])\n            .join(\n              (enter) =>\n                enter\n                  .append('path')\n                  .attr('class', 'trend-area')\n                  .call((enter) =>\n                    enter\n                      .attr('d', (dates) => areaPath(dates, true))\n                      .transition(t)\n                      .attr('d', areaPath)\n                  ),\n              (update) =>\n                update.call((update) =>\n                  update.transition(t).attrTween('d', function (dates) {\n                    const previous = select(this).attr('d');\n                    const current = areaPath(dates);\n                    return interpolatePath(previous, current);\n                  })\n                )\n            );\n        } else {\n          svg\n            .selectAll('.trend-area')\n            .transition(t)\n            .attr('d', (dates) => areaPath(dates, true))\n            .remove();\n\n          svg\n            .selectAll('.stem')\n            .data(dates, (date) => date)\n            .join(\n              (enter) =>\n                enter\n                  .append('line')\n                  .attr('class', 'stem')\n                  .attr('stroke-width', 4)\n                  .attr('x1', (date) => xScale(parseIndiaDate(date)))\n                  .attr('y1', yScale(0))\n                  .attr('x2', (date) => xScale(parseIndiaDate(date)))\n                  .attr('y2', yScale(0)),\n              (update) => update,\n              (exit) =>\n                exit.call((exit) =>\n                  exit\n                    .transition(t)\n                    .attr('x1', (date) => xScale(parseIndiaDate(date)))\n                    .attr('x2', (date) => xScale(parseIndiaDate(date)))\n                    .attr('y2', yScale(0))\n                    .remove()\n                )\n            )\n            .transition(t)\n            .attr('x1', (date) => xScale(parseIndiaDate(date)))\n            .attr('y1', yScale(0))\n            .attr('x2', (date) => xScale(parseIndiaDate(date)))\n            .attr('y2', (date) =>\n              yScale(\n                getStatistic(timeseries[date], chartType, statistic, {\n                  movingAverage: isMovingAverage,\n                })\n              )\n            );\n        }\n      } else {\n        svg\n          .selectAll('.stem')\n          .transition(t)\n          .attr('y1', yScale(0))\n          .attr('y2', yScale(0))\n          .remove();\n\n        svg\n          .selectAll('.trend-area')\n          .transition(t)\n          .attr('d', (dates) => areaPath(dates, true))\n          .remove();\n\n        const linePath = line()\n          .curve(curveMonotoneX)\n          .x((date) => xScale(parseIndiaDate(date)))\n          .y((date) =>\n            yScale(\n              getStatistic(timeseries[date], chartType, statistic, {\n                movingAverage: isMovingAverage,\n              })\n            )\n          );\n\n        svg\n          .selectAll('.trend')\n          .data(T ? [dates] : [])\n          .join(\n            (enter) =>\n              enter\n                .append('path')\n                .attr('class', 'trend')\n                .attr('fill', 'none')\n                .attr('stroke-width', 4)\n                .attr('d', linePath)\n                .call((enter) => enter.transition(t).attr('opacity', 1)),\n            (update) =>\n              update.call((update) =>\n                update\n                  .attr('opacity', 1)\n                  .transition(t)\n                  .attrTween('d', function (date) {\n                    const previous = select(this).attr('d');\n                    const current = linePath(date);\n                    return interpolatePath(previous, current);\n                  })\n              )\n          )\n          .attr('stroke', color + (condenseChart ? '99' : '50'));\n      }\n\n      svg.selectAll('*').attr('pointer-events', 'none');\n      svg\n        .on('mousemove', mousemove)\n        .on('touchmove', (event) => mousemove(event.touches[0]))\n        .on('mouseout touchend', mouseout);\n    });\n  }, [\n    width,\n    height,\n    chartType,\n    isMovingAverage,\n    condenseChart,\n    xScale,\n    yScales,\n    statistics,\n    dates,\n    timeseries,\n  ]);\n\n  useEffect(() => {\n    statistics.forEach((statistic, i) => {\n      const ref = refs.current[i];\n      const svg = select(ref);\n      const color = STATISTIC_CONFIGS[statistic].color;\n      const yScale = yScales[i];\n      const t = svg.transition().duration(D3_TRANSITION_DURATION);\n\n      svg\n        .selectAll('circle.condensed')\n        .data(\n          condenseChart && highlightedDate ? [highlightedDate] : [],\n          (date) => date\n        )\n        .join((enter) =>\n          enter\n            .append('circle')\n            .attr('class', 'condensed')\n            .attr('fill', color)\n            .attr('stroke', color)\n            .attr('pointer-events', 'none')\n            .attr('cx', (date) => xScale(parseIndiaDate(date)))\n            .attr('cy', (date) =>\n              yScale(\n                getStatistic(timeseries[date], chartType, statistic, {\n                  movingAverage: isMovingAverage,\n                })\n              )\n            )\n            .attr('r', 4)\n        )\n        .transition(t)\n        .attr('cx', (date) => xScale(parseIndiaDate(date)))\n        .attr('cy', (date) =>\n          yScale(\n            getStatistic(timeseries[date], chartType, statistic, {\n              movingAverage: isMovingAverage,\n            })\n          )\n        );\n\n      if (!condenseChart) {\n        svg\n          .selectAll('circle')\n          .attr('r', (date) => (date === highlightedDate ? 4 : 2));\n      }\n    });\n  }, [\n    chartType,\n    isMovingAverage,\n    condenseChart,\n    highlightedDate,\n    xScale,\n    yScales,\n    statistics,\n    timeseries,\n  ]);\n\n  const getStatisticDelta = useCallback(\n    (statistic) => {\n      if (!highlightedDate) return;\n\n      const currCount = getStatistic(\n        timeseries?.[highlightedDate],\n        chartType,\n        statistic,\n        {movingAverage: isMovingAverage}\n      );\n      if (NAN_STATISTICS.includes(statistic) && currCount === 0) return;\n\n      const prevDate =\n        dates[dates.findIndex((date) => date === highlightedDate) - 1];\n\n      const prevCount = getStatistic(\n        timeseries?.[prevDate],\n        chartType,\n        statistic,\n        {movingAverage: isMovingAverage}\n      );\n      return currCount - prevCount;\n    },\n    [timeseries, dates, highlightedDate, chartType, isMovingAverage]\n  );\n\n  const trail = useMemo(\n    () =>\n      statistics.map((statistic, index) => ({\n        animationDelay: `${index * 250}ms`,\n      })),\n    [statistics]\n  );\n\n  return (\n    <div className=\"Timeseries\">\n      {statistics.map((statistic, index) => {\n        const delta = getStatisticDelta(statistic, index);\n        const statisticConfig = STATISTIC_CONFIGS[statistic];\n        return (\n          <div\n            key={statistic}\n            className={classnames('svg-parent fadeInUp', `is-${statistic}`)}\n            style={trail[index]}\n            ref={index === 0 ? wrapperRef : null}\n          >\n            {highlightedDate && (\n              <div className={classnames('stats', `is-${statistic}`)}>\n                <h5 className=\"title\">\n                  {t(capitalize(statisticConfig.displayName))}\n                </h5>\n                <h5>{formatDate(highlightedDate, 'dd MMMM')}</h5>\n                <div className=\"stats-bottom\">\n                  <h2>\n                    {formatNumber(\n                      getStatistic(\n                        timeseries?.[highlightedDate],\n                        chartType,\n                        statistic,\n                        {movingAverage: isMovingAverage}\n                      ),\n                      statisticConfig.format !== 'short'\n                        ? statisticConfig.format\n                        : 'int',\n                      statistic\n                    )}\n                  </h2>\n                  <h6>{`${delta > 0 ? '+' : ''}${formatNumber(\n                    delta,\n                    statisticConfig.format !== 'short'\n                      ? statisticConfig.format\n                      : 'int',\n                    statistic\n                  )}`}</h6>\n                </div>\n              </div>\n            )}\n            <svg\n              ref={(element) => {\n                refs.current[index] = element;\n              }}\n              preserveAspectRatio=\"xMidYMid meet\"\n            >\n              <g className=\"x-axis\" />\n              <g className=\"x-axis2\" />\n              <g className=\"y-axis\" />\n            </svg>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(currProps.chartType, prevProps.chartType)) {\n    return false;\n  } else if (!equal(currProps.isUniform, prevProps.isUniform)) {\n    return false;\n  } else if (!equal(currProps.isLog, prevProps.isLog)) {\n    return false;\n  } else if (!equal(currProps.isMovingAverage, prevProps.isMovingAverage)) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.stateCode,\n      prevProps.regionHighlighted.stateCode\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      currProps.regionHighlighted.districtName,\n      prevProps.regionHighlighted.districtName\n    )\n  ) {\n    return false;\n  } else if (!equal(currProps.endDate, prevProps.endDate)) {\n    return false;\n  } else if (!equal(currProps.dates, prevProps.dates)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(Timeseries, isEqual);\n"],"sourceRoot":""}