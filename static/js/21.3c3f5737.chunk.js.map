{"version":3,"sources":["../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-selection/src/pointers.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js"],"names":["event","sourceEvent","slice","Array","prototype","x","epsilon","translateX","translateY","y","number","scale","d","center","offset","Math","max","bandwidth","round","entering","this","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","window","devicePixelRatio","k","transform","context","values","ticks","apply","domain","format","identity","spacing","range","range0","range1","length","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","call","tickSize","axisRight","axisBottom","node","undefined","currentTarget","svg","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","x0","y0","y1","x1","defined","constant","curve","curveLinear","output","area","i","j","buffer","n","array","defined0","x0z","y0z","areaStart","lineStart","lineEnd","areaEnd","arealine","pointX","pointY","lineX0","lineY0","lineY1","lineX1","preventDefault","stopImmediatePropagation","view","root","document","documentElement","on","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","BrushEvent","type","target","mode","dispatch","Object","defineProperties","value","enumerable","configurable","nopropagation","MODE_DRAG","name","MODE_SPACE","MODE_HANDLE","MODE_CENTER","abs","min","number1","e","number2","X","handles","map","input","xy","Y","cursors","overlay","s","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","t","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","baseVal","width","height","defaultTouchable","navigator","maxTouchPoints","local","__brush","empty","extent","brushSelection","state","dim","brushX","brush","touchending","touchable","keys","listeners","handleSize","group","property","initialize","handle","redraw","started","touchmoved","touchended","emitter","that","args","clean","emit","Emitter","active","touches","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","__data__","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","points","from","identifier","pointer","point0","pts","move","interrupt","beforestart","moved","ended","keydowned","keyupped","dragDisable","start","changedTouches","cur","clearTimeout","dragEnable","end","keyCode","tween","selection0","selection1","interpolate","clear","starting","datum","keyModifiers","events","series","m","isNaN","o","stackValue","key","stackSeries","orderNone","offsetNone","stack","oz","sz","index"],"mappings":"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","file":"static/js/21.3c3f5737.chunk.js","sourcesContent":["export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array.js\";\nimport identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move();\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n"],"sourceRoot":""}