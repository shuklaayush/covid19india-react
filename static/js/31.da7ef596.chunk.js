(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[31],{123:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var c=i(91);function n(e,t){var i;if(void 0===t){var n,s=Object(c.a)(e);try{for(s.s();!(n=s.n()).done;){var r=n.value;null!=r&&(i>r||void 0===i&&r>=r)&&(i=r)}}catch(u){s.e(u)}finally{s.f()}}else{var a,o=-1,d=Object(c.a)(e);try{for(d.s();!(a=d.n()).done;){var l=a.value;null!=(l=t(l,++o,e))&&(i>l||void 0===i&&l>=l)&&(i=l)}}catch(u){d.e(u)}finally{d.f()}}return i}},223:function(e,t,i){"use strict";i.r(t);var c=i(104),n=i(82),s=i(101),r=i(18),a=function(){var e=window.innerWidth,t=e>769?480:e,i=1200;return Object(r.jsxs)(s.a,{viewBox:"0 0 ".concat(t," ").concat(i),height:i,width:t,speed:2,children:[Object(r.jsx)("circle",{cx:.4*t,cy:600,r:"5"}),Object(r.jsx)("circle",{cx:.5*t,cy:600,r:"5"}),Object(r.jsx)("circle",{cx:.6*t,cy:600,r:"5"})]})},o=i(12),d=i(111),l=i(22),u=i(90),j=i(85),b=i.n(j),m=i(123),O=i(62),h=i(73),f=i(84),v=i.n(f),g=i(2),x=i(285),p=i(190),y=i(276),N=Object(g.lazy)((function(){return Object(l.l)((function(){return Promise.all([i.e(1),i.e(2),i.e(20)]).then(i.bind(null,260))}))})),C=Object(g.lazy)((function(){return Object(l.l)((function(){return Promise.all([i.e(1),i.e(2),i.e(19),i.e(44)]).then(i.bind(null,261))}))}));function k(e){var t,i=this,s=e.stateCode,j=e.timeseries,f=e.date,v=e.regionHighlighted,k=e.setRegionHighlighted,S=e.anchor,w=e.setAnchor,M=e.expandTable,H=void 0!==M&&M,A=e.hideVaccinated,T=void 0!==A&&A,U=Object(x.a)().t,B=Object(p.a)("timeseriesLookbackDays",90),J=Object(n.a)(B,2),L=J[0],D=J[1],E=Object(p.a)("chartType","total"),F=Object(n.a)(E,2),I=F[0],R=F[1],z=Object(p.a)("isUniform",!1),P=Object(n.a)(z,2),V=P[0],q=P[1],W=Object(p.a)("isLog",!1),G=Object(n.a)(W,2),K=G[0],Q=G[1],X=Object(p.a)("isMovingAverage",!1),Y=Object(n.a)(X,2),Z=Y[0],$=Y[1],_=Object.keys((null===j||void 0===j||null===(t=j[s])||void 0===t?void 0:t.dates)||{}),ee=_[0]||f||Object(l.g)(),te=Object(m.a)([_[_.length-1],f||Object(l.g)()]),ie=Object(g.useState)(te),ce=Object(n.a)(ie,2),ne=ce[0],se=ce[1];Object(g.useEffect)((function(){se(te)}),[te]);var re=null!==L?Object(O.a)(Object(h.a)(Object(l.k)(ne),L),{representation:"date"}):ee,ae=Object(g.useRef)(),oe=Object(d.a)(ae,{once:!0}),de=Object(y.a)().width,le=Object(g.useMemo)((function(){var e;return(null===j||void 0===j||null===(e=j[v.stateCode])||void 0===e?void 0:e.districts)?{stateCode:v.stateCode,districtName:v.districtName}:{stateCode:v.stateCode,districtName:null}}),[j,v.stateCode,v.districtName]),ue=Object(g.useMemo)((function(){var e,t,i,c;return le.districtName?null===j||void 0===j||null===(e=j[le.stateCode])||void 0===e||null===(t=e.districts)||void 0===t||null===(i=t[le.districtName])||void 0===i?void 0:i.dates:null===j||void 0===j||null===(c=j[le.stateCode])||void 0===c?void 0:c.dates}),[j,le.stateCode,le.districtName]),je=Object(g.useMemo)((function(){var e=Object.keys(j||{}).filter((function(e){return e!==s})).sort((function(e,t){return o.u[e].localeCompare(o.u[t])})).map((function(e){return{stateCode:e,districtName:null}})),t=Object.keys(j||{}).reduce((function(e,t){var i;return[].concat(Object(c.a)(e),Object(c.a)(Object.keys((null===j||void 0===j||null===(i=j[t])||void 0===i?void 0:i.districts)||{}).reduce((function(e,i){return[].concat(Object(c.a)(e),[{stateCode:t,districtName:i}])}),[])))}),[]);return[{stateCode:s,districtName:null}].concat(Object(c.a)(e),Object(c.a)(t))}),[j,s]),be=Object(g.useMemo)((function(){return je.find((function(e){return e.stateCode===v.stateCode&&e.districtName===v.districtName}))?je:[].concat(Object(c.a)(je),[{stateCode:v.stateCode,districtName:v.districtName}])}),[v.stateCode,v.districtName,je]),me=Object(g.useMemo)((function(){return Object.keys(ue||{}).filter((function(e){return e<=te}))}),[ue,te]),Oe=Object(g.useMemo)((function(){return me.filter((function(e){return re<=e&&e<=ne}))}),[me,re,ne]),he=Object(g.useCallback)((function(e){var t=e.target;k(JSON.parse(t.value))}),[k]),fe=Object(g.useCallback)((function(){k({stateCode:s,districtName:null})}),[s,k]),ve=Object(g.useMemo)((function(){return o.B.filter((function(e){return(!o.F.includes(e)||!T)&&("delta"===I||"tpr"!==e)}))}),[I,T]);return Object(r.jsxs)("div",{className:b()("TimeseriesExplorer fadeInUp",{stickied:"timeseries"===S},{expanded:H}),style:{display:S&&"timeseries"!==S&&(!H||de<769)?"none":""},ref:ae,children:[Object(r.jsxs)("div",{className:"timeseries-header",children:[Object(r.jsx)("div",{className:b()("anchor","fadeInUp",{stickied:"timeseries"===S}),style:{display:H&&de>769?"none":""},onClick:w&&w.bind(this,"timeseries"===S?null:"timeseries"),children:Object(r.jsx)(u.o,{})}),Object(r.jsx)("h1",{children:U("Spread Trends")}),Object(r.jsx)("div",{className:"tabs",children:Object.entries(o.z).map((function(e,t){var c=Object(n.a)(e,2),s=c[0],a=c[1];return Object(r.jsx)("div",{className:"tab ".concat(I===s?"focused":""),onClick:R.bind(i,s),children:Object(r.jsx)("h4",{children:U(a)})},s)}))}),Object(r.jsxs)("div",{className:"timeseries-options",children:[Object(r.jsxs)("div",{className:"scale-modes",children:[Object(r.jsx)("label",{className:"main",children:"".concat(U("Scale Modes"),":")}),Object(r.jsxs)("div",{className:"timeseries-mode",children:[Object(r.jsx)("label",{htmlFor:"timeseries-mode",children:U("Uniform")}),Object(r.jsx)("input",{id:"timeseries-mode",type:"checkbox",className:"switch",checked:V,"aria-label":U("Checked by default to scale uniformly."),onChange:q.bind(this,!V)})]}),Object(r.jsxs)("div",{className:"timeseries-mode ".concat("total"!==I?"disabled":""),children:[Object(r.jsx)("label",{htmlFor:"timeseries-logmode",children:U("Logarithmic")}),Object(r.jsx)("input",{id:"timeseries-logmode",type:"checkbox",checked:"total"===I&&K,className:"switch",disabled:"total"!==I,onChange:Q.bind(this,!K)})]})]}),Object(r.jsxs)("div",{className:"timeseries-mode ".concat("total"===I?"disabled":""," moving-average"),children:[Object(r.jsx)("label",{htmlFor:"timeseries-moving-average",children:U("7 day Moving Average")}),Object(r.jsx)("input",{id:"timeseries-moving-average",type:"checkbox",checked:"delta"===I&&Z,className:"switch",disabled:"delta"!==I,onChange:$.bind(this,!Z)})]})]})]}),be&&Object(r.jsxs)("div",{className:"state-selection",children:[Object(r.jsx)("div",{className:"dropdown",children:Object(r.jsx)("select",{value:JSON.stringify(le),onChange:he,children:be.filter((function(e){return o.u[e.stateCode]!==e.districtName})).map((function(e){return Object(r.jsx)("option",{value:JSON.stringify(e),children:e.districtName?U(e.districtName):U(o.u[e.stateCode])},"".concat(e.stateCode,"-").concat(e.districtName))}))})}),Object(r.jsx)("div",{className:"reset-icon",onClick:fe,children:Object(r.jsx)(u.q,{})})]}),oe&&Object(r.jsxs)(g.Suspense,{fallback:Object(r.jsx)(a,{}),children:[Object(r.jsx)(N,{timeseries:ue,regionHighlighted:le,dates:Oe,statistics:ve,endDate:te,chartType:I,isUniform:V,isLog:K,isMovingAverage:Z}),Object(r.jsx)(C,{timeseries:ue,regionHighlighted:le,currentBrushSelection:[re,ne],animationIndex:ve.length,dates:me,endDate:te,lookback:L,setBrushSelectionEnd:se,setLookback:D})]}),!oe&&Object(r.jsx)("div",{style:{height:"50rem"}}),Object(r.jsx)("div",{className:"pills fadeInUp",style:{animationDelay:"".concat(250*(1+ve.length),"ms")},children:o.A.map((function(e){return Object(r.jsx)("button",{type:"button",className:b()({selected:e===L}),onClick:D.bind(i,e),children:null!==e?"".concat(e," ").concat(U("days")):U("Beginning")},e)}))})]})}var S=function(e,t){return!t.forceRender&&(!(t.timeseries||!e.timeseries)||!(t.timeseries&&!e.timeseries)&&(!!v()(t.regionHighlighted.stateCode,e.regionHighlighted.stateCode)&&(!!v()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&(!!v()(t.date,e.date)&&(!!v()(t.anchor,e.anchor)&&(!!v()(t.expandTable,e.expandTable)&&!!v()(t.hideVaccinated,e.hideVaccinated)))))))};t.default=Object(g.memo)(k,S)},84:function(e,t,i){"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var c,n,s;if(Array.isArray(t)){if((c=t.length)!=i.length)return!1;for(n=c;0!==n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((c=(s=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=c;0!==n--;)if(!Object.prototype.hasOwnProperty.call(i,s[n]))return!1;for(n=c;0!==n--;){var r=s[n];if(!e(t[r],i[r]))return!1}return!0}return t!==t&&i!==i}}}]);
//# sourceMappingURL=31.da7ef596.chunk.js.map