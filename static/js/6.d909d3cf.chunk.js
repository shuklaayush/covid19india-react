(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[6],{100:function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var i,a,c;if(Array.isArray(e)){if((i=e.length)!=n.length)return!1;for(a=i;0!==a--;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((i=(c=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(a=i;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,c[a]))return!1;for(a=i;0!==a--;){var o=c[a];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}},108:function(t,e,n){"use strict";var i=n(107),a=n(135),c=n(2),o=(n(125),n(126),n(20));e.a=function(t){var e=t.children,n=t.message,r=t.hold,s=void 0!==r&&r,l=t.childProps,d=void 0===l?{}:l,u=Object(c.useCallback)((function(t){return t.stopPropagation()}),[]);return Object(o.jsx)(a.a,{className:"Tooltip",content:"string"===typeof n?Object(o.jsx)("p",{className:"message",dangerouslySetInnerHTML:{__html:n.split("\n").map((function(t){return"<div>".concat(t,"</div>")})).join("")}}):n,arrow:!1,animation:"shift-away",touch:!s||["hold",300],children:Object(o.jsx)("div",Object(i.a)(Object(i.a)({onClick:u},d),{},{children:e}))})}},142:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return r}));var i=n(104),a=n(20),c=function(){return Object(a.jsxs)("div",{className:"Icons",children:[Object(a.jsx)(i.s,{size:16}),Object(a.jsx)("span",{children:"7D"})]})},o=function(){return Object(a.jsxs)("div",{className:"Icons",children:[Object(a.jsx)(i.q,{size:16}),Object(a.jsx)("span",{children:"1L"})]})},r=function(){return Object(a.jsx)("div",{className:"Icons",children:Object(a.jsx)(i.p,{size:16})})}},143:function(t,e,n){!function(t,e){function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var i="Left",a="Right",c="Up",o="Down",r={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},s={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},l="mousemove",d="mouseup",u="touchend",v="touchmove",h="touchstart";function p(t,e,n,r){return t>e?n>0?a:i:r>0?o:c}function f(t,e){if(0===e)return t;var n=Math.PI/180*e;return[t[0]*Math.cos(n)+t[1]*Math.sin(n),t[1]*Math.cos(n)-t[0]*Math.sin(n)]}function j(t,e){var i=function(e){e&&"touches"in e&&e.touches.length>1||t((function(t,i){i.trackMouse&&(document.addEventListener(l,a),document.addEventListener(d,r));var c="touches"in e?e.touches[0]:e,o=f([c.clientX,c.clientY],i.rotationAngle);return n({},t,s,{initial:[].concat(o),xy:o,start:e.timeStamp||0})}))},a=function(e){t((function(t,i){if("touches"in e&&e.touches.length>1)return t;var a="touches"in e?e.touches[0]:e,c=f([a.clientX,a.clientY],i.rotationAngle),o=c[0],r=c[1],s=o-t.xy[0],l=r-t.xy[1],d=Math.abs(s),u=Math.abs(l),v=(e.timeStamp||0)-t.start,h=Math.sqrt(d*d+u*u)/(v||1),j=[s/(v||1),l/(v||1)];if(d<i.delta&&u<i.delta&&!t.swiping)return t;var b=p(d,u,s,l),m={absX:d,absY:u,deltaX:s,deltaY:l,dir:b,event:e,first:t.first,initial:t.initial,velocity:h,vxvy:j};m.first&&i.onSwipeStart&&i.onSwipeStart(m),i.onSwiping&&i.onSwiping(m);var O=!1;return(i.onSwiping||i.onSwiped||"onSwiped"+b in i)&&(O=!0),O&&i.preventDefaultTouchmoveEvent&&i.trackTouch&&e.cancelable&&e.preventDefault(),n({},t,{first:!1,eventData:m,swiping:!0})}))},c=function(e){t((function(t,i){var a;if(t.swiping&&t.eventData){a=n({},t.eventData,{event:e}),i.onSwiped&&i.onSwiped(a);var c="onSwiped"+a.dir;c in i&&i[c](a)}else i.onTap&&i.onTap({event:e});return n({},t,s,{eventData:a})}))},o=function(){document.removeEventListener(l,a),document.removeEventListener(d,r)},r=function(t){o(),c(t)},j=function(t,e){var n=function(){};if(t&&t.addEventListener){var o=[[h,i],[v,a],[u,c]];o.forEach((function(n){var i=n[0],a=n[1];return t.addEventListener(i,a,{passive:e})})),n=function(){return o.forEach((function(e){var n=e[0],i=e[1];return t.removeEventListener(n,i)}))}}return n},b={ref:function(e){null!==e&&t((function(t,i){if(t.el===e)return t;var a={};return t.el&&t.el!==e&&t.cleanUpTouch&&(t.cleanUpTouch(),a.cleanUpTouch=void 0),i.trackTouch&&e&&(a.cleanUpTouch=j(e,!i.preventDefaultTouchmoveEvent)),n({},t,{el:e},a)}))}};return e.trackMouse&&(b.onMouseDown=i),[b,j]}function b(t,e,i){var a={};return!e.trackTouch&&t.cleanUpTouch?(t.cleanUpTouch(),a.cleanUpTouch=void 0):e.trackTouch&&!t.cleanUpTouch&&t.el&&(a.cleanUpTouch=i(t.el,!e.preventDefaultTouchmoveEvent)),n({},t,a)}function m(t){var i=t.trackMouse,a=e.useRef(n({},s)),c=e.useRef(n({},r));c.current=n({},r,t);var o=e.useMemo((function(){return j((function(t){return a.current=t(a.current,c.current)}),{trackMouse:i})}),[i]),l=o[0],d=o[1];return a.current=b(a.current,c.current,d),l}t.DOWN=o,t.LEFT=i,t.RIGHT=a,t.UP=c,t.useSwipeable=m}(e,n(2))},234:function(t,e,n){"use strict";n.r(e);var i=n(107),a=n(54),c=n(51),o=n(10),r=n(121),s=n(20),l=function(t){var e=t.width,n=t.statistic,i=window.innerWidth;e||(e=i>=769?480:i);var a=(i>=769?.9:1)*e/.885,c=42+o.l+a;return Object(s.jsxs)(r.a,{viewBox:"0 0 ".concat(e," ").concat(c),height:c,width:e,speed:2,backgroundColor:o.x[n].color,children:[Object(s.jsx)("circle",{cx:.4*e,cy:c/2,r:"5"}),Object(s.jsx)("circle",{cx:.5*e,cy:c/2,r:"5"}),Object(s.jsx)("circle",{cx:.6*e,cy:c/2,r:"5"})]})},d=n(142),u=n(110),v=n(25),h=n(100),p=n.n(h),f=n(2),j=n(294),b=n(124),m=function(t){var e=t.currentStatistic,n=t.isPerLakh,i=t.delta7Mode,a=t.mapStatistic,r=t.setMapStatistic,l=t.mapType,d=t.hideDistrictTestData,h=t.hideVaccinated,p=t.zoneColor,m=Object(j.a)().t,O=Object(b.a)(),g=Object(c.a)(O,2),x=g[0],T=g[1].width,y=Object(f.useRef)(),S=o.x[e],w=Object(f.useMemo)((function(){var t=o.z.filter((function(t){var e,n;return(l===o.o.COUNTRY||"tested"!==(null===(e=o.x[t])||void 0===e?void 0:e.category)||!d)&&("vaccinated"!==(null===(n=o.x[t])||void 0===n?void 0:n.category)||!h)}));return t.includes(e)?t:[e].concat(Object(u.a)(t))}),[e,l,d,h]),C=Object(f.useCallback)((function(t){r(t.target.value)}),[r]);Object(f.useEffect)((function(){var t,e=document.createElement("select"),n=document.createElement("option");n.textContent=null===(t=o.x[a])||void 0===t?void 0:t.displayName,e.style.cssText+="\n      visibility: hidden;\n      position: fixed;\n      ",e.appendChild(n),y.current.after(e);var i=e.getBoundingClientRect().width;i>0&&(y.current.style.width="".concat(i+2,"px")),e.remove()}),[T,a]);var D=p||(null===S||void 0===S?void 0:S.color);return Object(s.jsxs)("div",{className:"StatisticDropdown",ref:x,children:[Object(s.jsx)("select",{ref:y,value:e,className:e,style:{color:D,background:D+"20",outlineColor:D+"40"},onChange:C,children:w.map((function(t){var e=o.x[t];return Object(s.jsx)("option",{value:t,children:m(Object(v.a)(null===e||void 0===e?void 0:e.displayName))},t)}))}),Object(s.jsx)("span",{children:"".concat(n&&!(null===S||void 0===S?void 0:S.nonLinear)&&"population"!==a?" ".concat(m("per lakh")):"").concat(i&&(null===S||void 0===S?void 0:S.showDelta)||(null===S||void 0===S?void 0:S.onlyDelta7)?" ".concat(m("in last 7 days")):"")})]})},O=function(t,e){return!!p()(t.currentStatistic,e.currentStatistic)&&(!!p()(t.isPerLakh,e.isPerLakh)&&(!!p()(t.delta7Mode,e.delta7Mode)&&(!!p()(t.mapStatistic,e.mapStatistic)&&(!!p()(t.mapType,e.mapType)&&(!!p()(t.hideDistrictTestData,e.hideDistrictTestData)&&(!!p()(t.hideVaccinated,e.hideVaccinated)&&!!p()(t.zoneColor,e.zoneColor)))))))},g=Object(f.memo)(m,O),x=n(108),T=n(104),y=n(102),S=n.n(y),w=n(113),C=n(5),D=n(106),k=n(143),N=n(289),M=n(204),E=Object(f.lazy)((function(){return Object(v.k)((function(){return Promise.all([n.e(1),n.e(14),n.e(42)]).then(n.bind(null,298))}))}));function L(t){var e,n,r,u=this,h=t.stateCode,p=void 0===h?"TT":h,b=t.data,m=t.mapView,O=void 0===m?o.p.DISTRICTS:m,y=t.setMapView,L=t.mapStatistic,U=t.setMapStatistic,I=t.regionHighlighted,R=t.setRegionHighlighted,P=t.anchor,V=t.setAnchor,H=t.expandTable,z=void 0!==H&&H,A=t.lastUpdatedDate,B=t.hideDistrictData,Y=void 0!==B&&B,q=t.hideDistrictTestData,F=void 0===q||q,X=t.hideVaccinated,_=void 0!==X&&X,W=Object(j.a)().t,J=Object(f.useRef)(),G=Object(N.a)().width,K=Object(M.a)("isPerLakhMap",!1),Q=Object(c.a)(K,2),Z=Q[0],$=Q[1],tt=Object(M.a)("delta7ModeMap",!1),et=Object(c.a)(tt,2),nt=et[0],it=et[1],at=o.m[p],ct=at.mapType===o.o.COUNTRY?b:Object(a.a)({},p,b[p]),ot=o.x[L],rt=O===o.p.DISTRICTS&&(at.mapType===o.o.STATE||!Y&&!(F&&"tested"===(null===ot||void 0===ot?void 0:ot.category))),st=Object(f.useMemo)((function(){var t,e,n=(I.districtName?null===(t=b[I.stateCode])||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[I.districtName]:b[I.stateCode])||{};return Object(w.a)(n,(function(t){t.name=I.districtName||o.w[I.stateCode]}))}),[b,I.stateCode,I.districtName]),lt=Object(f.useCallback)((function(){var t=o.x[L];(null===t||void 0===t?void 0:t.nonLinear)||"population"===L||$((function(t){return!t}))}),[L,$]),dt=Object(f.useCallback)((function(){var t=O===o.p.DISTRICTS?o.p.STATES:o.p.DISTRICTS;t===o.p.STATES&&R({stateCode:I.stateCode,districtName:null}),y(t)}),[O,I.stateCode,y,R]),ut=Object(C.g)(),vt=Object(f.useRef)();Object(f.useEffect)((function(){"#MapExplorer"===ut.location.hash&&vt.current.scrollIntoView()}),[ut]);var ht=Object(f.useMemo)((function(){var t=[];return[0,0,0,0,0,0,0].map((function(e,n){return t.push({animationDelay:"".concat(250*n,"ms")}),null})),t}),[]),pt=Object(f.useCallback)((function(t){var e=o.x[L],n=(null===e||void 0===e?void 0:e.showDelta)&&nt||(null===e||void 0===e?void 0:e.onlyDelta7)?"delta7":"total";return Object(v.h)(t,n,L,{expiredDate:A,normalizedByPopulationPer:Z&&"population"!=L?"lakh":null,canBeNaN:!0})}),[L,Z,A,nt]),ft=pt(st);isNaN(ft)&&(ft="-");var jt=Object(D.useSpring)({total:ft,config:Object(i.a)({tension:250},o.t)}),bt=Object(f.useMemo)((function(){return o.n.filter((function(t){var e;return!("vaccinated"===(null===(e=o.x[t])||void 0===e?void 0:e.category))||!_}))}),[_]),mt=Object(f.useCallback)((function(t){var e=bt.indexOf(L),n=(bt.length+e+t)%bt.length;U(bt[n])}),[L,bt,U]),Ot=Object(k.useSwipeable)({onSwipedLeft:mt.bind(this,1),onSwipedRight:mt.bind(this,-1)}),gt="population"!==L&&(Z||(null===ot||void 0===ot||null===(e=ot.mapConfig)||void 0===e?void 0:e.colorScale)||(null===ot||void 0===ot?void 0:ot.nonLinear))?o.q.CHOROPLETH:o.q.BUBBLES,xt=Object(f.useCallback)((function(){(null===ot||void 0===ot?void 0:ot.showDelta)&&it((function(t){return!t}))}),[ot,it]),Tt="mapexplorer"===P||z&&G>=769,yt=Object(f.useCallback)((function(t){var e;return(null===ot||void 0===ot||null===(e=ot.mapConfig)||void 0===e?void 0:e.transformFn)?ot.mapConfig.transformFn(t):t}),[ot]),St=(null===ot||void 0===ot||null===(n=ot.mapConfig)||void 0===n?void 0:n.colorScale)?ot.mapConfig.colorScale(yt(ft)):"";return Object(s.jsxs)("div",{className:S()("MapExplorer",{stickied:Tt},{hidden:P&&"mapexplorer"!==P&&(!z||G<769)}),children:[Object(s.jsx)("div",{className:S()("anchor","fadeInUp",{stickied:Tt}),style:{display:G<769||G>=769&&z?"none":""},onClick:V&&V.bind(this,"mapexplorer"===P?null:"mapexplorer"),children:Object(s.jsx)(T.r,{})}),Object(s.jsxs)("div",{className:"panel",ref:vt,children:[Object(s.jsxs)("div",{className:"panel-left fadeInUp",style:ht[0],children:[Object(s.jsxs)("h2",{className:S()(L),style:{color:St||(null===ot||void 0===ot?void 0:ot.color)},children:[W(st.name),st.name===o.F&&" [".concat(W(o.w[I.stateCode]),"]")]}),I.stateCode&&Object(s.jsxs)("h1",{className:S()("district",L),style:{color:St||(null===ot||void 0===ot?void 0:ot.color)},children:[Object(s.jsx)(D.animated.div,{children:jt.total.to((function(t){return Object(v.e)(t,ot.format,L)}))}),Object(s.jsx)(g,{currentStatistic:L,statistics:bt,mapType:at.mapType,isPerLakh:Z,delta7Mode:nt,mapStatistic:L,setMapStatistic:U,hideDistrictTestData:F,hideVaccinated:_,zoneColor:St})]})]}),Object(s.jsxs)("div",{className:S()("panel-right","is-".concat(L)),children:[Object(s.jsxs)("div",{className:"switch-type",children:[Object(s.jsx)(x.a,{message:"Last 7 day values",hold:!0,children:Object(s.jsx)("div",{className:S()("toggle","fadeInUp",{"is-highlighted":nt&&(null===ot||void 0===ot?void 0:ot.showDelta)||(null===ot||void 0===ot?void 0:ot.onlyDelta7),disabled:!(null===ot||void 0===ot?void 0:ot.showDelta)}),onClick:xt,style:ht[1],children:Object(s.jsx)(d.a,{})})}),Object(s.jsx)(x.a,{message:"Per lakh people",hold:!0,children:Object(s.jsx)("div",{className:S()("toggle","fadeInUp",{"is-highlighted":!(null===ot||void 0===ot?void 0:ot.nonLinear)&&gt===o.q.CHOROPLETH,disabled:(null===ot||void 0===ot?void 0:ot.nonLinear)||"population"===L}),onClick:lt,style:ht[2],children:Object(s.jsx)(d.c,{})})}),at.mapType===o.o.COUNTRY&&Object(s.jsx)(x.a,{message:"Toggle between states/districts",hold:!0,children:Object(s.jsx)("div",{className:S()("toggle","boundary fadeInUp",{"is-highlighted":rt,disabled:Y||"tested"===(null===ot||void 0===ot?void 0:ot.category)&&F}),onClick:dt,style:ht[3],children:Object(s.jsx)(T.p,{})})}),at.mapType===o.o.STATE&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)("div",{className:"toggle back fadeInUp",onClick:function(){ut.push("/#MapExplorer")},style:ht[4],children:Object(s.jsx)(T.b,{})})]})]}),Object(s.jsx)("div",{className:"switch-statistic fadeInUp",style:ht[5],children:bt.map((function(t){return Object(s.jsx)("div",{className:S()("toggle","statistic-option","is-".concat(t),{"is-highlighted":L===t}),onClick:U.bind(u,t),children:Object(s.jsx)(T.i,{})},t)}))})]})]}),Object(s.jsx)("div",Object(i.a)(Object(i.a)({ref:J,className:"fadeInUp",style:ht[3]},Ot),{},{children:L&&Object(s.jsx)(f.Suspense,{fallback:Object(s.jsx)(l,{className:"map-loader",width:null===(r=J.current)||void 0===r?void 0:r.clientWidth,statistic:L}),children:Object(s.jsx)(E,{data:ct,statistic:L,mapCode:p,isDistrictView:rt,mapViz:gt,regionHighlighted:I,setRegionHighlighted:R,getMapStatistic:pt,transformStatistic:yt})})}))]})}var U=function(t,e){var n,i,a,c,o,r,s,l,d,u;return!!p()(t.stateCode,e.stateCode)&&(!!p()(t.regionHighlighted,e.regionHighlighted)&&(!!p()(t.mapView,e.mapView)&&(!!p()(t.mapStatistic,e.mapStatistic)&&(!!p()(t.anchor,e.anchor)&&(!!p()(t.expandTable,e.expandTable)&&(!!p()(t.hideDistrictData,e.hideDistrictData)&&(!!p()(t.hideDistrictTestData,e.hideDistrictTestData)&&(!!p()(t.hideVaccinated,e.hideVaccinated)&&(!!p()(null===(n=t.data)||void 0===n||null===(i=n.TT)||void 0===i||null===(a=i.meta)||void 0===a?void 0:a.last_updated,null===(c=e.data)||void 0===c||null===(o=c.TT)||void 0===o||null===(r=o.meta)||void 0===r?void 0:r.last_updated)&&!!p()(null===(s=t.data)||void 0===s||null===(l=s.TT)||void 0===l?void 0:l.total,null===(d=e.data)||void 0===d||null===(u=d.TT)||void 0===u?void 0:u.total))))))))))};e.default=Object(f.memo)(L,U)}}]);
//# sourceMappingURL=6.d909d3cf.chunk.js.map