/*! For license information please see 23.c43f4564.chunk.js.LICENSE.txt */
(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[23],{102:function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var s=c.apply(null,i);s&&e.push(s)}}else if("object"===r)if(i.toString===Object.prototype.toString)for(var a in i)n.call(i,a)&&i[a]&&e.push(a);else e.push(i.toString())}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(i=function(){return c}.apply(t,[]))||(e.exports=i)}()},122:function(e,t,n){"use strict";var i=n(51),c=n(2),r={root:null,rootMargin:"0px 0px 0px 0px",threshold:0};t.a=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){e.current&&new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&(a(!0),n.unobserve(e.current))}))}),r).observe(e.current)}),[e]),s}},204:function(e,t,n){"use strict";var i=n(2),c=n(101);t.a=function(e,t,n){if(!c.a)return[t,function(){}];var r=Object(i.useState)((function(){try{var i=sessionStorage.getItem(e);return"string"!==typeof i?(sessionStorage.setItem(e,n?String(t):JSON.stringify(t)),t):n?i:JSON.parse(i||"null")}catch(r){return t}})),s=r[0],a=r[1];return Object(i.useEffect)((function(){try{var t=n?String(s):JSON.stringify(s);sessionStorage.setItem(e,t)}catch(r){}})),[s,a]}},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1),c=n(0);function r(e){var t,n;if(Object(c.a)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(i.a)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}},255:function(e,t,n){"use strict";n.r(t);var i=n(107),c=n(51),r=n(10),s=n(122),a=n(25),l=n(104),o=n(102),d=n.n(o),u=n(77),j=n(205),b=n(2),O=n(141),f=n(294),v=n(5),h=n(204),p=n(118),m=n(20),x=Object(b.lazy)((function(){return Object(a.k)((function(){return Promise.all([n.e(1),n.e(20)]).then(n.bind(null,217))}))})),g=Object(b.lazy)((function(){return Object(a.k)((function(){return n.e(9).then(n.bind(null,150))}))})),y=Object(b.lazy)((function(){return Object(a.k)((function(){return n.e(33).then(n.bind(null,165))}))})),N=Object(b.lazy)((function(){return Object(a.k)((function(){return n.e(38).then(n.bind(null,166))}))})),k=Object(b.lazy)((function(){return Object(a.k)((function(){return Promise.all([n.e(2),n.e(7),n.e(6)]).then(n.bind(null,234))}))})),S=Object(b.lazy)((function(){return Object(a.k)((function(){return n.e(34).then(n.bind(null,167))}))})),w=Object(b.lazy)((function(){return Object(a.k)((function(){return Promise.all([n.e(1),n.e(3),n.e(26)]).then(n.bind(null,168))}))})),C=Object(b.lazy)((function(){return Object(a.k)((function(){return n.e(8).then(n.bind(null,236))}))})),M=Object(b.lazy)((function(){return Object(a.k)((function(){return Promise.all([n.e(2),n.e(36)]).then(n.bind(null,235))}))})),I=Object(b.lazy)((function(){return Object(a.k)((function(){return n.e(24).then(n.bind(null,183))}))}));function z(){var e,t,n,o,z,U,R,E,D=Object(f.a)().t,H=Object(v.i)().stateCode.toUpperCase(),J=Object(h.a)("mapStatistic","active"),P=Object(c.a)(J,2),A=P[0],F=P[1],T=Object(b.useState)(!1),V=Object(c.a)(T,2),W=V[0],_=V[1],B=Object(b.useState)({stateCode:H,districtName:null}),L=Object(c.a)(B,2),q=L[0],G=L[1],K=Object(b.useState)(!1),Q=Object(c.a)(K,2),X=Q[0],Y=Q[1];Object(b.useEffect)((function(){q.stateCode!==H&&(G({stateCode:H,districtName:null}),_(!1))}),[q.stateCode,H]);var Z=Object(p.a)("".concat(r.d,"/timeseries-").concat(H,".min.json"),a.b,{revalidateOnMount:!0,refreshInterval:1e5}),$=Z.data,ee=Z.error,te=Object(p.a)("".concat(r.d,"/data.min.json"),a.b,{revalidateOnMount:!0,refreshInterval:1e5}).data,ne=Object(b.useMemo)((function(){var e;if(te){var t=window.innerWidth>=540?3:2,n=(null===(e=te[H])||void 0===e?void 0:e.districts)?Object.keys(te[H].districts).filter((function(e){return"Unknown"!==e})).length:0;return Math.ceil(n/t)}}),[te,H]),ie=Object(b.useRef)(),ce=Object(s.a)(ie),re=Object(b.useMemo)((function(){var e=[];return[0,0,0,0].map((function(t,n){return e.push({animationDelay:"".concat(250*n,"ms")}),null})),e}),[]),se=W?window.innerWidth>=540?10:8:6,ae=Object(b.useMemo)((function(){var e,t,n,i,c;if(!te)return null;var r=[null===(e=te[H])||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.last_updated,null===(n=te[H])||void 0===n||null===(i=n.meta)||void 0===i||null===(c=i.tested)||void 0===c?void 0:c.last_updated];return Object(u.a)(Object(j.a)(r.filter((function(e){return e})).map((function(e){return Object(a.j)(e)}))),{representation:"date"})}),[H,te]),le=r.n.includes(A)?A:"confirmed";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(O.a,{children:[Object(m.jsxs)("title",{children:["Coronavirus Outbreak in ",r.w[H]," - covid19india.org"]}),Object(m.jsx)("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(r.w[H],": Latest Map and Case Count")})]}),Object(m.jsxs)("div",{className:"State",children:[Object(m.jsxs)("div",{className:"state-left",children:[Object(m.jsx)(C,{data:null===te||void 0===te?void 0:te[H],stateCode:H}),Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)(S,{mapStatistic:A,setMapStatistic:F}),Object(m.jsx)(y,{data:null===te||void 0===te?void 0:te[H]}),Object(m.jsx)(w,{timeseries:null===$||void 0===$||null===(e=$[H])||void 0===e?void 0:e.dates,stateCode:H,forceRender:!!ee})]}),(null===te||void 0===te||null===(t=te[H])||void 0===t||null===(n=t.total)||void 0===n?void 0:n.vaccinated1)&&Object(m.jsx)(N,{data:null===te||void 0===te?void 0:te[H]}),te&&Object(m.jsx)(b.Suspense,{fallback:Object(m.jsx)("div",{style:{minHeight:"50rem"}}),children:Object(m.jsx)(k,{stateCode:H,data:te,regionHighlighted:q,setRegionHighlighted:G,mapStatistic:A,setMapStatistic:F,lastUpdatedDate:ae,delta7Mode:X,setDelta7Mode:Y})}),Object(m.jsx)("span",{ref:ie}),ce&&te&&Object(m.jsx)(b.Suspense,{fallback:Object(m.jsx)("div",{}),children:Object(m.jsx)(M,{stateCode:H,data:te,timeseries:null===$||void 0===$||null===(o=$[H])||void 0===o?void 0:o.dates})})]}),Object(m.jsx)("div",{className:"state-right",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"district-bar",children:[Object(m.jsxs)("div",{className:d()("district-bar-top",{expanded:W}),children:[Object(m.jsxs)("div",{className:"district-bar-left",children:[Object(m.jsx)("h2",{className:d()(le,"fadeInUp"),style:re[0],children:D("Top districts")}),Object(m.jsx)("div",{className:"districts fadeInUp ".concat(W?"is-grid":""),style:W?Object(i.a)({gridTemplateRows:"repeat(".concat(ne,", 2rem)")},re[1]):re[1],children:Object.keys((null===te||void 0===te||null===(z=te[H])||void 0===z?void 0:z.districts)||{}).filter((function(e){return"Unknown"!==e})).sort((function(e,t){return function(e,t){var n=te[H].districts[e],i=te[H].districts[t];return Object(a.h)(i,"total",A)-Object(a.h)(n,"total",A)}(e,t)})).slice(0,W?void 0:5).map((function(e){var t=Object(a.h)(te[H].districts[e],"total",le),n=Object(a.h)(te[H].districts[e],"delta",le);return Object(m.jsxs)("div",{className:"district",children:[Object(m.jsx)("h2",{children:Object(a.e)(t)}),Object(m.jsx)("h5",{children:D(e)}),"active"!==le&&Object(m.jsx)("div",{className:"delta",children:Object(m.jsx)("h6",{className:le,children:n>0?"\u2191"+Object(a.e)(n):""})})]},e)}))})]}),Object(m.jsxs)("div",{className:"district-bar-right fadeInUp",style:re[2],children:[$&&("confirmed"===le||"deceased"===le)&&Object(m.jsx)("div",{className:"happy-sign",children:Object.keys((null===(U=$[H])||void 0===U?void 0:U.dates)||{}).slice(-se).every((function(e){return 0===Object(a.h)($[H].dates[e],"delta",le)}))&&Object(m.jsxs)("div",{className:"alert ".concat("confirmed"===le?"is-green":""),children:[Object(m.jsx)(l.w,{}),Object(m.jsxs)("div",{className:"alert-right",children:["No new ",le," cases in the past five days"]})]})}),Object(m.jsx)(x,{timeseries:null===$||void 0===$||null===(R=$[H])||void 0===R?void 0:R.dates,statistic:le,stateCode:H,lookback:se,forceRender:!!ee})]})]}),Object(m.jsx)("div",{className:"district-bar-bottom",children:Object.keys((null===te||void 0===te||null===(E=te[H])||void 0===E?void 0:E.districts)||{}).length>5?Object(m.jsx)("button",{className:"button fadeInUp",onClick:function(){_(!W)},style:re[3],children:Object(m.jsx)("span",{children:D(W?"View less":"View all")})}):Object(m.jsx)("div",{style:{height:"3.75rem",flexBasis:"15%"}})})]}),Object(m.jsx)(b.Suspense,{fallback:Object(m.jsx)("div",{}),children:Object(m.jsx)(I,{stateCode:H,timeseries:$,regionHighlighted:q,setRegionHighlighted:G,forceRender:!!ee})})]})})]}),Object(m.jsx)(g,{})]})}t.default=Object(b.memo)(z)}}]);
//# sourceMappingURL=23.c43f4564.chunk.js.map