@import '~modularscale-sass/stylesheets/modularscale';

@mixin stats-color($statistic, $color) {
  &.is-#{$statistic} {
    .date {
      color: var(--#{$color}-50);
    }

    .title,
    .statistic,
    .delta {
      color: var(--#{$color});
    }
  }
}

@mixin svg-color($statistic, $color) {
  &.is-#{$statistic} {
    background: var(--#{$color}-10);

    svg {
      .domain,
      .tick,
      line {
        stroke: var(--#{$color}-50);
      }

      text {
        color: var(--#{$color}-50);
        stroke: transparent;
      }
    }
  }
}

.timeseries {
  align-self: center;
  display: flex;
  flex-direction: column;
  margin-top: ms(0);
  width: 100%;

  .stats {
    @include stats-color('confirmed', 'cherry');
    @include stats-color('active', 'blue');
    @include stats-color('recovered', 'green');
    @include stats-color('deceased', 'gray');
    @include stats-color('tested', 'purple');

    display: flex;
    flex-direction: column;
    left: ms(0);
    pointer-events: none;
    position: absolute;
    top: ms(0);

    .top {
      display: flex;
      flex-direction: row;
      margin-bottom: ms(-2);

      .title,
      .date {
        margin: 0;
      }

      .title {
        margin-right: ms(-2);
      }
    }

    .bottom {
      .statistic,
      .delta {
        font-weight: 600;
        margin: 0;
      }

      .delta {
        margin-top: ms(-2);
      }
    }
  }

  .svg-parent {
    @include svg-color('confirmed', 'cherry');
    @include svg-color('active', 'blue');
    @include svg-color('recovered', 'green');
    @include svg-color('deceased', 'gray');
    @include svg-color('tested', 'purple');

    align-self: center;
    background: var(--cherry-light);
    border-radius: ms(-3);
    display: flex;
    height: ms(6);
    margin-bottom: 1rem;
    position: relative;
    width: 100%;

    svg {
      width: 100%;
    }
  }
}
